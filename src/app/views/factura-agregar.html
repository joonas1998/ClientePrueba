<div class = "row">
    <h1>Factura</h1>
    
   
</div>

<div class="row">
    
        <div class="col-lg-2">
            <form #numerofac ="ngForm" >
                <label >Factura N°</label>
            <input type="text"  #factura="ngModel" name="factura" [(ngModel)] ="Factura_register.NumeroFactura" class="form-control" required>
            <span *ngIf ="!factura.valid && factura.touched">
                EL codigo es obligatorio
            </span>
            </form>

            
        </div>
    
</div>
<div class="row">
    <form #clienteForm="ngForm" (ngSubmit)= "getCliente()" >
        <div class="col-lg-2">
            <label >Identificación</label>
            <input type="text"  #identificacion ="ngModel" name="identificacion" [(ngModel)] ="cliente.Identificacion" class="form-control">
        </div>
        <div class="col-lg-2">
            <label >Nombre</label>
            <input type="text" #nombre= "ngModel" name="nombre" [(ngModel)] ="cliente.Nombre" class="form-control">
        </div>
        <div class="col-lg-2">
            <label >Apellido</label>
            <input type="text" #apellido = "ngModel" name="apellido" [(ngModel)] ="cliente.Apellido" class="form-control">
        </div>
        <div class="col-lg-2">
            <label >Direccion</label>
            <input type="text" #direccion = "ngModel" name="direccion" [(ngModel)] ="cliente.Direccion" class="form-control">
        </div>
        <div class="col-lg-2">
            <label >Tipo de I.D</label>
            <input type="text" #tipoid ="ngModel" name="tipoidentificacion" [(ngModel)] ="cliente.Tipoidentificacion" class="form-control">
        </div>
        <div class="col-lg-2">
            
            <input type="submit"  value="Buscar" class ="btn btn-primary"/>
        </div>
    </form>
</div>
<div class="row">
    <form #productoForm="ngForm" (ngSubmit)= "getProducto()">
        <div class="col-lg-2">
            <label >Codigo del producto</label>
            <input type="text"  #codigoproducto="ngModel" name="codigoproducto" [(ngModel)] ="producto.Codigo" class="form-control" required>
            <span *ngIf ="!codigoproducto.valid && codigoproducto.touched">
                EL codigo es obligatorio
            </span>
        </div>
        <div class="col-lg-3">
            <label >Descripcion</label>
            <input type="text"  #descripcion="ngModel" name="descripcion" [(ngModel)] ="producto.Descripcion" class="form-control"required>
            <span *ngIf ="!descripcion.valid && descripcion.touched">
                La descripcion es obligatoria
            </span>
        </div>
        <div class="col-lg-2">
            <label >Stock</label>
            <input type="text"  #stock="ngModel" name="stock" [(ngModel)] ="producto.Stock" class="form-control" required >
            <span *ngIf ="!stock.valid && stock.touched">
                La descripcion es obligatoria
            </span>
        </div>
        <div class="col-lg-2">
            <label >ValorUnitario</label>
            <input type="text"  #valorunitario="ngModel" name="valorunitario" [(ngModel)] ="producto.ValorUnitario" class="form-control" required>
            <span *ngIf ="!valorunitario.valid && valorunitario.touched">
                La descripcion es obligatoria
            </span>
        </div>
        <div class="col-lg-2">
            <label >Cantidad</label>
            <input type="text"   name="cantidad" (input)="calcularSubtotal()" [(ngModel)] ="cantidad" class="form-control" required>
            
        </div>
        <div class="col-lg-2">
            <label >Sub total</label>
            <input type="text"   name="subtotal" [(ngModel)] ="subtotal" class="form-control">
        </div>
       
        <div class="col-lg-2">
            
            <input type="submit"  value="Buscar" class ="btn btn-primary"/>
            <span class = "btn btn-warning" (click)="addlistas()">
                Agregar
              </span>
        </div>
    </form>
</div>

<div class="row">
    <div class="col-lg-2">
        <label >Total venta $:</label>
        
      
    </div>
    <div class="col-lg-2">
        <label>
            {{Factura_register.TotalFactura}}
        </label>
    </div>
    <div class="col-lg-2">
        <span class = "btn btn-warning" (click)="registrarVenta()" >
           Generar venta
          </span>
    </div>
</div>

<div class="row">
    <table class="table table-bordered">
        <thead>
            <tr>
                <td>Codigo</td>
                <td>Descripción</td>
                <td>Cantidad</td>
                <td>Subtotal</td>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor = "let obproducto of listaProducto; let i = index">
                <td>{{obproducto.Codigo}}</td>
                <td>{{obproducto.Descripcion}}</td>
                <td>{{obproducto.Cantidad}}</td>
                <td>{{obproducto.Subtotal}}</td>
                <td>
                    <input   value="Quitar" (click)= "eliminarobjlistas(i)" class ="btn btn-primary"/>
                </td>
               
                
            </tr>
        </tbody>
    </table>

</div>

